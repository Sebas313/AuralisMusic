<main>
  <section id="register" class="d-flex flex-row">

    <div class="image-section"></div>


    <div class="form-section">
      <div class="section-text-combo">
        <h2>Registrarse</h2>
      </div>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input 
            type="text" 
            id="nombre" 
            class="form-control" 
            formControlName="nombre" 
            placeholder="" 
          />
        </div>
      
        <div class="mb-3">
          <label for="email" class="form-label">Correo Electrónico</label>
          <input 
            type="email" 
            id="email" 
            class="form-control" 
            formControlName="email" 
            placeholder="" 
          />
        </div>
      
        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Contraseña</label>
          <input 
            type="password" 
            id="password"
            class="form-control" 
            formControlName="password" 
            [type]="passwordVisible ? 'text' : 'password'" 
            placeholder=""
          /> 
          <button 
            type="button" 
            (click)="togglePasswordVisibility()" 
            class="position-absolute end-0 top-0 mt-2 me-3"
          >
            <i [ngClass]="passwordVisible ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
          </button>
        </div>
      
        <button type="submit" class="btn btn-primary">Registrarse</button>
      </form>
      
      <!-- Modal de Alerta -->
      <div *ngIf="errorMessage || successMessage" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-96 text-center relative">
          
          <h2 class="text-xl font-semibold" [ngClass]="errorMessage ? 'text-red-600' : 'text-green-600'">
            {{ errorMessage ? 'Error' : 'Éxito' }}
          </h2>
          
          <p class="mt-2 text-gray-700">{{ errorMessage || successMessage }}</p>
      
          <!-- Botón para cerrar el modal -->
          <button (click)="closeAlert()" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            Cerrar
          </button>
      
        </div>
      </div>
      

 
      <div class="mt-3">
        <p>¿Ya tienes una cuenta? <a [routerLink]="['/login']">Inicia sesión aquí</a></p>
      </div>
    </div>
    <div *ngIf="showVerificationModal" class="modal">
      <div class="modal-content">
        <h3>Verifica tu correo</h3>
        <p>Hemos enviado un código a tu correo. Ingresa el código a continuación:</p>
        <input [(ngModel)]="verificationCode" placeholder="Código de verificación">
        <button (click)="verifyCode()">Verificar</button>
        <button (click)="closeModal()">Cancelar</button>
      </div>
    </div>
  </section>
</main>

